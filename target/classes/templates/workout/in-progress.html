<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‹å‹•ä¸­</title>
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/workout.css}">
</head>
<body>
    <div class="home-container">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <div class="header">
            <h1 class="page-title">é‹å‹•ä¸­</h1>
            <a href="/notifications" class="notification-bell">
                <span class="bell-icon">ğŸ””</span>
                <span th:if="${unreadNotificationCount > 0}" class="notification-badge" th:text="${unreadNotificationCount}">3</span>
            </a>
        </div>
        
        <div class="main-content">
            <div class="workout-progress-card">
                <h2 class="workout-progress-title">é‹å‹•ç¶™ç¶šä¸­</h2>
                
                <div class="timer-display">
                    <div id="timer" class="timer">00:00</div>
                    <div class="timer-label">æ®‹ã‚Šæ™‚é–“</div>
                </div>
                
                <div class="progress-info">
                    <h3>é‹å‹•æƒ…å ±</h3>
                    <p><strong>é‹å‹•ç¨®åˆ¥:</strong> <span th:text="${workout.exerciseType}">ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°</span></p>
                    <p><strong>é–‹å§‹æ™‚åˆ»:</strong> <span th:text="${#temporals.format(workout.startTime, 'HH:mm')}">10:00</span></p>
                    <p><strong>ç›®æ¨™æ™‚é–“:</strong> <span th:text="${targetSessionTime}">30</span>åˆ†</p>
                </div>
                
                <!-- ç›®æ¨™æ™‚é–“ã‚’JavaScriptã«æ¸¡ã™ -->
                <script th:inline="javascript">
                    window.targetSessionTime = /*[[${targetSessionTime}]]*/ 30;
                    window.startTimeStr = /*[[${#temporals.format(workout.startTime, 'yyyy-MM-dd HH:mm:ss')}]]*/ '';
                    console.log('targetSessionTime:', window.targetSessionTime);
                    console.log('startTimeStr:', window.startTimeStr);
                </script>
                
                <button class="complete-workout-btn" onclick="window.location.href='/workout/complete'">
                    é‹å‹•å®Œäº†
                </button>
            </div>
        </div>
    </div>
    
    <!-- ãƒœãƒˆãƒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <nav class="bottom-nav">
        <div class="nav-container">
            <a href="/" class="nav-item">
                <span class="nav-icon">ğŸ </span>
                <span class="nav-label">ãƒ›ãƒ¼ãƒ </span>
            </a>
            <a href="/buddy/search" class="nav-item">
                <span class="nav-icon">ğŸ‘¥</span>
                <span class="nav-label">ãƒãƒ‡ã‚£è¿½åŠ </span>
            </a>
            <div class="nav-item center-action active">
                <form th:action="@{/workout/start-with-goal}" method="post" style="display: inline;">
                    <button type="submit" class="nav-center-btn">
                        <span class="center-icon">ğŸƒ</span>
                    </button>
                </form>
                <span class="nav-label">é‹å‹•ã‚’å§‹ã‚ã‚‹</span>
            </div>
            <a href="/workout/records" class="nav-item">
                <span class="nav-icon">ğŸ“Š</span>
                <span class="nav-label">ç§ã®è¨˜éŒ²</span>
            </a>
            <a href="/goal/set" class="nav-item">
                <span class="nav-icon">ğŸ“‹</span>
                <span class="nav-label">ç›®æ¨™è¨­å®š</span>
            </a>
        </div>
    </nav>
    
    <script th:src="@{/js/workout.js}"></script>
</body>
</html> 